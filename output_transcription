import sounddevice as sd
import numpy as np
import speech_recognition as sr

# get the device index
devices = sd.query_devices()
device_index = None
for i, device in enumerate(devices):
    if device['name'] == 'Altavoces (Realtek) ':
        device_index = i
        break

# open the audio stream
with sd.InputStream(device=device_index, channels=1, blocksize=2048, samplerate=44100):
    r = sr.Recognizer()
    while True:
        # read the audio data from the stream
        data = sd.rec(2048, samplerate=44100, channels=1, blocking=True)

        # transcribe the audio data
        text = r.recognize_google(data, language='ja-JP')

        # print the transcribed text
        print(text)
